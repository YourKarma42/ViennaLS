@PACKAGE_INIT@

###############################################
#  compiler dependent settings for ViennaLS
###############################################
if ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
  if(OMP_PARALLELIZE)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fopenmp=libomp")
  endif()
#    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}  -Werror -ferror-limit=2")
  SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")
elseif ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
#    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}  -Werror -fmax-errors=2")
  # disable-new-dtags sets RPATH which searches for libs recursively, instead
  # of RUNPATH which does not
  # needed for g++ to link correctly
  SET(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -Wl,--disable-new-dtags")
  # g++ needs c++17 standard for inline static constexpr variables
  SET(CMAKE_CXX_STANDARD "17")
  if(OMP_PARALLELIZE)
    FIND_PACKAGE(OpenMP REQUIRED)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall ${OpenMP_CXX_FLAGS}")
  endif()
elseif ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Intel")
  if(OMP_PARALLELIZE)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -qopenmp")
  endif()
#    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}  -fmax-errors=2")
elseif ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
  if(OMP_PARALLELIZE)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /openmp")
  endif()
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd\"4267\" /wd\"4244\"")
endif()


if(ViennaLS_COMMON_TARGET)
  SET(VIENNALS_INCLUDE_DIRS "${VIENNAHRLE_INCLUDE_DIRS}" "@VIENNALS_BUILD_INCLUDE_DIRS@")
else(ViennaLS_COMMON_TARGET)
  SET(VIENNALS_INCLUDE_DIRS "${VIENNAHRLE_INCLUDE_DIRS}" "@CMAKE_INSTALL_PREFIX@@CMAKE_INSTALL_INCLUDEDIR@")
  #  include("${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@Targets.cmake")
endif()


if(@VIENNALS_BUILD_SHARED_LIBS@)
  option(VIENNALS_USE_SHARED_LIBS "Use precompiled headers" ON)
  if(VIENNALS_USE_SHARED_LIBS)
    ADD_DEFINITIONS(-DVIENNALS_USE_SHARED_LIBS)
  endif(VIENNALS_USE_SHARED_LIBS)
endif()

if(VIENNALS_USE_SHARED_LIBS)
  link_directories(@CMAKE_INSTALL_PREFIX@lib)
  list(APPEND VIENNALS_LIBRARIES @PROJECT_NAME@)
endif()

check_required_components("@PROJECT_NAME@")
